[{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"critical-data-source-rules","dir":"","previous_headings":"","what":"CRITICAL DATA SOURCE RULES","title":"Claude Code Instructions","text":"NEVER use Urban Institute API, NCES CCD, federal data source — entire point packages provide STATE-LEVEL data directly state . Federal sources aggregate/transform data differently lose state-specific details. state DOE source broken, FIX find alternative STATE source — fall back federal data.","code":""},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"git-commits-and-prs","dir":"","previous_headings":"","what":"Git Commits and PRs","title":"Claude Code Instructions","text":"NEVER reference Claude, Claude Code, AI assistance commit messages NEVER reference Claude, Claude Code, AI assistance PR descriptions NEVER add Co-Authored-lines mentioning Claude Anthropic Keep commit messages focused changed, written","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"local-testing-before-prs-required","dir":"","previous_headings":"","what":"Local Testing Before PRs (REQUIRED)","title":"Claude Code Instructions","text":"PRs merged CI passes. Run checks locally opening PR:","code":""},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"quick-commands","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Quick Commands","title":"Claude Code Instructions","text":"","code":"# R package check (required) devtools::check()  # Python tests (required) system(\"pip install -e ./pywvschooldata && pytest tests/test_pywvschooldata.py -v\")  # pkgdown build (required) pkgdown::build_site()"},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"pre-pr-checklist","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Pre-PR Checklist","title":"Claude Code Instructions","text":"opening PR, verify: - [ ] devtools::check() — 0 errors, 0 warnings - [ ] pytest tests/test_pywvschooldata.py — tests pass - [ ] pkgdown::build_site() — builds without errors - [ ] Vignettes render (eval=FALSE hacks)","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"live-pipeline-testing","dir":"","previous_headings":"","what":"LIVE Pipeline Testing","title":"Claude Code Instructions","text":"package includes tests/testthat/test-pipeline-live.R LIVE network tests.","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"test-categories","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Test Categories:","title":"Claude Code Instructions","text":"URL Availability - HTTP 200 checks File Download - Verify actual file (HTML error) File Parsing - readxl/readr succeeds Column Structure - Expected columns exist get_raw_enr() - Raw data function works Data Quality - Inf/NaN, non-negative counts Aggregation - State total > 0 Output Fidelity - tidy=TRUE matches raw","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"running-tests","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Running Tests:","title":"Claude Code Instructions","text":"See state-schooldata/CLAUDE.md complete testing framework documentation.","code":"devtools::test(filter = \"pipeline-live\")"},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"feature-branch--pr--auto-merge-policy","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Feature Branch + PR + Auto-Merge Policy","title":"Claude Code Instructions","text":"NEVER push directly main. changes must go PRs auto-merge:","code":"# 1. Create feature branch git checkout -b fix/description-of-change  # 2. Make changes, commit git add -A git commit -m \"Fix: description of change\"  # 3. Push and create PR with auto-merge git push -u origin fix/description-of-change gh pr create --title \"Fix: description\" --body \"Description of changes\" gh pr merge --auto --squash  # 4. Clean up stale branches after PR merges git checkout main && git pull && git fetch --prune origin"},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"branch-cleanup-required","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Branch Cleanup (REQUIRED)","title":"Claude Code Instructions","text":"Clean stale branches every time touch package:","code":"# Delete local branches merged to main git branch --merged main | grep -v main | xargs -r git branch -d  # Prune remote tracking branches git fetch --prune origin"},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"auto-merge-requirements","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Auto-Merge Requirements","title":"Claude Code Instructions","text":"PRs auto-merge CI checks pass: - R-CMD-check (0 errors, 0 warnings) - Python tests (py{st}schooldata exists) - pkgdown build (vignettes must render) CI fails, fix issue push - auto-merge triggers checks pass.","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"readme-images-from-vignettes-required","dir":"","previous_headings":"","what":"README Images from Vignettes (REQUIRED)","title":"Claude Code Instructions","text":"NEVER use man/figures/ generate_readme_figs.R README images. README images MUST come pkgdown-generated vignette output auto-update merge: : Vignette figures regenerate automatically pkgdown builds. Manual man/figures/ requires running separate script easy forget, causing stale/broken images.","code":"![Chart name](https://almartin82.github.io/{package}/articles/{vignette}_files/figure-html/{chunk-name}-1.png)"},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"readme-must-be-identical-to-vignette","dir":"","previous_headings":"README Standards (REQUIRED)","what":"README Must Be Identical to Vignette","title":"Claude Code Instructions","text":"CRITICAL RULE: README content MUST identical vignette - code blocks, outputs, narrative text must match exactly. ensures: - Code verified run - Outputs real (fabricated) - Images auto-generated pkgdown - Single source truth","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"minimum-story-count","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Minimum Story Count","title":"Claude Code Instructions","text":"Every README MUST least 15 stories/sections README pkgdown front page. story tells data story headline, narrative, code, output, visualization.","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"readme-story-structure-required","dir":"","previous_headings":"README Standards (REQUIRED)","what":"README Story Structure (REQUIRED)","title":"Claude Code Instructions","text":"Every story/section README MUST follow structure: Headline: compelling, factual statement data Narrative text: Brief explanation matters Code: R code fetches analyzes data (MUST exist vignette) Output code: Data table/print statement showing actual values (REQUIRED) Visualization: Chart vignette (auto-generated pkgdown)","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"story-verification-by-claude-required","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Story Verification by Claude (REQUIRED)","title":"Claude Code Instructions","text":"Claude MUST read verify story: - Headline must make sense supported code code output - Headline must directly contradicted Claude’s world knowledge - headline dubious unsupported, flag fix - Year ranges headlines must match actual data availability","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"readme-must-be-interesting","dir":"","previous_headings":"README Standards (REQUIRED)","what":"README Must Be Interesting","title":"Claude Code Instructions","text":"README grab attention compelling: - Headlines surprising, newsworthy, counterintuitive - Lead interesting findings - Tell stories make people want explore data - Avoid boring/generic statements like “enrollment changed time”","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"charts-must-have-content","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Charts Must Have Content","title":"Claude Code Instructions","text":"Every visualization MUST actual data : - Empty charts = something broken (data issue, bad filter, wrong column) - Verify charts visually show meaningful data - chart empty, investigate fix underlying problem","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"no-broken-links","dir":"","previous_headings":"README Standards (REQUIRED)","what":"No Broken Links","title":"Claude Code Instructions","text":"links README must valid: - 404s - broken image URLs - dead vignette references - Test links committing","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"opening-teaser-section-required","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Opening Teaser Section (REQUIRED)","title":"Claude Code Instructions","text":"README start : - Project motivation/package exists - Link back njschooldata mothership (original package) - Brief overview data available (years, entities, subgroups) - hook makes readers want explore ","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"data-notes-section-required","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Data Notes Section (REQUIRED)","title":"Claude Code Instructions","text":"README include Data Notes section covering: - Data source (state DOE URL) - Available years - Suppression rules (e.g., counts <10 suppressed) - known data quality issues caveats - Census Day reporting period details","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"badges-required","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Badges (REQUIRED)","title":"Claude Code Instructions","text":"README must 4 badges order: 1. R CMD CHECK 2. Python tests 3. pkgdown 4. lifecycle","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"python-and-r-quickstart-examples-required","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Python and R Quickstart Examples (REQUIRED)","title":"Claude Code Instructions","text":"README must include quickstart code languages: - R installation basic fetch example - Python installation basic fetch example - show data consistency","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"why-code-matching-matters","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Why Code Matching Matters","title":"Claude Code Instructions","text":"Idaho fix revealed critical bugs README code didn’t match vignettes: - Wrong district names (lowercase vs CAPS) - Text claims contradicted actual data - Missing data output examples","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"enforcement","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Enforcement","title":"Claude Code Instructions","text":"state-deploy skill verifies deployment: - Extracts README code blocks - Searches vignettes EXACT matches - Fails deployment code found vignettes - Randomly audits packages claim accuracy","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"what-this-prevents","dir":"","previous_headings":"README Standards (REQUIRED)","what":"What This Prevents","title":"Claude Code Instructions","text":"❌ Wrong district/entity names (case sensitivity, typos) ❌ Text claims contradict data ❌ Broken code fails silently ❌ Missing data output ❌ Empty charts data ❌ Broken image links ✅ Verified, accurate, reproducible examples","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"example-story","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Example Story","title":"Claude Code Instructions","text":"3. Commit cache directories: - Cache directories (vignettes/*_cache/) committed git - add *_cache/ .gitignore - Cache provides reproducible builds faster CI","code":"### 1. State enrollment grew 28% since 2002  State added 68,000 students from 2002 to 2026, bucking national trends.  ```r library(arschooldata) library(dplyr)  enr <- fetch_enr_multi(2002:2026)  enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) %>%   filter(end_year %in% c(2002, 2026)) %>%   mutate(change = n_students - lag(n_students),          pct_change = round((n_students / lag(n_students) - 1) * 100, 1)) # Prints: 2002=XXX, 2026=YYY, change=ZZZ, pct=PP.P% ---  ## Vignette Caching (REQUIRED)  All packages use knitr chunk caching to speed up vignette builds and CI.  ### Three-Part Caching Approach  **1. Enable knitr caching in setup chunks:** ```r ```{r setup, include=FALSE} knitr::opts_chunk$set(   echo = TRUE,   message = FALSE,   warning = FALSE,   cache = TRUE ) **2. Use cache in fetch calls:** ```r enr <- fetch_enr(2024, use_cache = TRUE) enr_multi <- fetch_enr_multi(2020:2024, use_cache = TRUE)"},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"why-cache-is-committed","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Why Cache is Committed","title":"Claude Code Instructions","text":"Reproducibility: cache = output across builds CI Speed: Cache hits avoid expensive data downloads Consistency: developers get identical vignette results Stability: Network issues don’t break vignette builds","code":""},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"cache-management","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Cache Management","title":"Claude Code Instructions","text":"package clear_cache() cache_status() functions: Cache stored two locations: 1. Vignette cache: vignettes/*_cache/ (committed git) 2. Data cache: rappdirs::user_cache_dir() (local , committed)","code":"# View cached files cache_status()  # Clear all cache clear_cache()  # Clear specific year clear_cache(2024)"},{"path":"https://almartin82.github.io/wvschooldata/CLAUDE.html","id":"session-info-in-vignettes-required","dir":"","previous_headings":"README Standards (REQUIRED)","what":"Session Info in Vignettes (REQUIRED)","title":"Claude Code Instructions","text":"Every vignette must end sessionInfo() reproducibility: ```","code":"```{r session-info} sessionInfo()"},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/ERRATA.html","id":"id_1-fte-pdf-parsing-failing","dir":"","previous_headings":"","what":"1. FTE PDF Parsing Failing","title":"West Virginia School Data - Known Issues","text":"Status: investigation Discovered: 2026-01-02 Severity: High","code":""},{"path":"https://almartin82.github.io/wvschooldata/ERRATA.html","id":"issue","dir":"","previous_headings":"1. FTE PDF Parsing Failing","what":"Issue","title":"West Virginia School Data - Known Issues","text":"FTE (Full-Time Equivalent) enrollment PDFs WVDE parsed correctly. parse_fte_pdf() function returns 0 rows years tested.","code":""},{"path":"https://almartin82.github.io/wvschooldata/ERRATA.html","id":"impact","dir":"","previous_headings":"1. FTE PDF Parsing Failing","what":"Impact","title":"West Virginia School Data - Known Issues","text":"fetch_enr() returns empty data frames (0 rows) headcount data retrieved successfully Grade-level enrollment breakdowns available","code":""},{"path":"https://almartin82.github.io/wvschooldata/ERRATA.html","id":"workaround","dir":"","previous_headings":"1. FTE PDF Parsing Failing","what":"Workaround","title":"West Virginia School Data - Known Issues","text":"None currently available. PDF parsing logic needs updated match current PDF format WVDE.","code":""},{"path":"https://almartin82.github.io/wvschooldata/ERRATA.html","id":"id_2-missing-years-2022-and-2025","dir":"","previous_headings":"","what":"2. Missing Years: 2022 and 2025","title":"West Virginia School Data - Known Issues","text":"Status: Data unavailable source Discovered: 2026-01-02","code":""},{"path":"https://almartin82.github.io/wvschooldata/ERRATA.html","id":"issue-1","dir":"","previous_headings":"2. Missing Years: 2022 and 2025","what":"Issue","title":"West Virginia School Data - Known Issues","text":"West Virginia Department Education (WVDE) School Finance Data page FTE enrollment PDF files available : - 2021-22 school year (2022): PDF never published - 2024-25 school year (2025): PDF yet available (may released later school year)","code":""},{"path":"https://almartin82.github.io/wvschooldata/ERRATA.html","id":"impact-1","dir":"","previous_headings":"2. Missing Years: 2022 and 2025","what":"Impact","title":"West Virginia School Data - Known Issues","text":"get_available_years() returns: 2013-2021, 2023-2024 fetch_enr(2022) fetch_enr(2025) fail Multi-year analyses exclude years","code":""},{"path":"https://almartin82.github.io/wvschooldata/ERRATA.html","id":"workaround-1","dir":"","previous_headings":"2. Missing Years: 2022 and 2025","what":"Workaround","title":"West Virginia School Data - Known Issues","text":"Use available years explicitly:","code":"# Instead of 2014:2025 enr <- fetch_enr_multi(c(2014:2021, 2023:2024))"},{"path":"https://almartin82.github.io/wvschooldata/ERRATA.html","id":"data-source","dir":"","previous_headings":"2. Missing Years: 2022 and 2025","what":"Data Source","title":"West Virginia School Data - Known Issues","text":"WVDE School Finance Data: https://wvde.us/-us/finance/school-finance/school-finance-data/","code":""},{"path":"https://almartin82.github.io/wvschooldata/ERRATA.html","id":"resolution-plan","dir":"","previous_headings":"2. Missing Years: 2022 and 2025","what":"Resolution Plan","title":"West Virginia School Data - Known Issues","text":"Fix PDF parsing match current WVDE PDF format Monitor WVDE website publication missing years Update get_available_years() data becomes available","code":""},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"current-package-status","dir":"","previous_headings":"","what":"Current Package Status","title":"Graduation Rate Data Expansion","text":"R_CMD_check: PASSING python_test: PASSING pkgdown: PASSING wvschooldata package currently supports enrollment data (FTE headcount WVDE School Finance PDFs, years 2014-2025).","code":""},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"primary-source-wv-balanced-scorecard-dashboard","dir":"","previous_headings":"Graduation Rate Data Source","what":"Primary Source: WV Balanced Scorecard Dashboard","title":"Graduation Rate Data Expansion","text":"WV Balanced Scorecard provides publicly accessible CSV files graduation rate data state, district, school levels subgroup breakdowns. Dashboard URL: https://wveis.k12.wv.us/essa/dashboard.html","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"essa_data_hscsv-column-structure","dir":"","previous_headings":"Schema Analysis","what":"essa_data_hs.csv Column Structure","title":"Graduation Rate Data Expansion","text":"2019-2025 Schema (47 columns): 2018 Schema (48 columns - DIFFERENT): - Subgroup_Sort column (column 8) - Academic_ELA_Progress_Color_O Academic_Math_Progress_Color_O extra columns - Graduation rate fields columns 37 (4-year) 40 (5-year)","code":"1. Accountable_Year 2. District_Code (3-digit, zero-padded: 002, 004, ... 106, 999=State) 3. District_Name 4. School_Code (3-digit: 501, 502, ... 999=District Record) 5. School_Name 6. School_Type (SECO for high school, MIDD, ELEM, NT, ALT) 7. Title_1_Indicator 8. Subgroup_Sort (integer 1-14) 9. Subgroup 10. Enrollment_October_Value 11. Enrollment_EOYFAY_Value 12. School_Count_Value 13. Teacher_FTE_Total_Value 14. Per_Pupil_Ratio_Value 15-20. Academic ELA/Math Performance (Color, Pct, Indicator) 21-24. Academic ELA/Math Progress (Color, Pct) 25-28. Attendance (Color, Pct, Rate) 29-30. Discipline (Color, Pct) 31-33. English Learners (Color, Pct, Indicator) 34-36. Gradrate_4_Year (Color, Pct, Indicator, Percent) 37-39. Gradrate_5_Year (Color, Pct, Percent) 40-43. On_Track and Post_Secondary (Color, Pct) 44-47. Create/Modified metadata"},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"id-format","dir":"","previous_headings":"Schema Analysis","what":"ID Format","title":"Graduation Rate Data Expansion","text":"District Code: 3-digit zero-padded (002=Barbour, 004=Berkeley, … 999=State) School Code: 3-digit (501, 502, … 999=District aggregate) WV 55 counties 58 districts reporting graduation data 117 high schools graduation data (2025)","code":""},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"subgroups-14-categories","dir":"","previous_headings":"Schema Analysis","what":"Subgroups (14 categories)","title":"Graduation Rate Data Expansion","text":"American Indian Alaska Native Asian Black African American Hispanic Latino Multi-Racial Pacific Islander White Economically Disadvantaged Children Disabilities English Learners Homeless Military Connected Foster Care Totals","code":""},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"validation-heuristics","dir":"","previous_headings":"Time Series Heuristics","what":"Validation Heuristics","title":"Graduation Rate Data Expansion","text":"State 4-year rate: 89-93% range State 5-year rate: 90-94% range, typically >= 4-year Year--year change: Max 1.5 percentage points typically District count: Expect 55-58 districts data School count (SECO): Expect 110-120 high schools Subgroup completeness: 14 subgroups per entity","code":""},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"known-data-characteristics","dir":"","previous_headings":"Time Series Heuristics","what":"Known Data Characteristics","title":"Graduation Rate Data Expansion","text":"Empty/suppressed graduation rates small subgroups (shown blank) Gray color indicates “Reported” (small n-size) District Record (School_Code=999) provides district aggregates State Record (District_Code=999) provides state aggregates School_Type must “SECO” high school graduation data","code":""},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"recommended-function-signature","dir":"","previous_headings":"Implementation Notes","what":"Recommended Function Signature","title":"Graduation Rate Data Expansion","text":"","code":"fetch_grad <- function(end_year, tidy = TRUE, use_cache = TRUE) fetch_grad_multi <- function(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"url-construction","dir":"","previous_headings":"Implementation Notes","what":"URL Construction","title":"Graduation Rate Data Expansion","text":"","code":"get_grad_csv_url <- function(end_year) {   paste0(\"https://wveis.k12.wv.us/essa/data/\", end_year, \"/essa_data_hs.csv\") }"},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"schema-era-detection","dir":"","previous_headings":"Implementation Notes","what":"Schema Era Detection","title":"Graduation Rate Data Expansion","text":"","code":"get_grad_rate_col <- function(end_year) {   if (end_year == 2018) {     list(rate_4yr = 37, rate_5yr = 40)   } else {     list(rate_4yr = 36, rate_5yr = 39)   } }"},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"filtering-for-graduation-data","dir":"","previous_headings":"Implementation Notes","what":"Filtering for Graduation Data","title":"Graduation Rate Data Expansion","text":"","code":"# High schools only filter(School_Type == \"SECO\")  # Totals subgroup for main rates filter(Subgroup == \"Totals\")  # District-level aggregates filter(School_Code == \"999\" | School_Name == \"District Record\")  # State-level aggregates filter(District_Code == \"999\" | District_Name == \"State Record\")"},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"zoomwv-dashboard","dir":"","previous_headings":"Alternative Data Sources (Not Recommended)","what":"ZoomWV Dashboard","title":"Graduation Rate Data Expansion","text":"URL: https://zoomwv.k12.wv.us/Dashboard/dashboard/2111 Requires JavaScript, direct API access Data Balanced Scorecard CSVs","code":""},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"ncesfederal-sources","dir":"","previous_headings":"Alternative Data Sources (Not Recommended)","what":"NCES/Federal Sources","title":"Graduation Rate Data Expansion","text":"RECOMMENDED per project policy State DOE data preferred","code":""},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"next-steps-not-implemented","dir":"","previous_headings":"","what":"Next Steps (Not Implemented)","title":"Graduation Rate Data Expansion","text":"Create R/fetch_graduation.R fetch_grad() function Create R/get_raw_graduation.R raw data download Create R/process_graduation.R data processing Create R/tidy_graduation.R tidy output Add tests tests/testthat/test-graduation.R Add live pipeline tests tests/testthat/test-graduation-pipeline-live.R Update DESCRIPTION new dependencies Update package documentation","code":""},{"path":"https://almartin82.github.io/wvschooldata/EXPANSION.html","id":"research-notes","dir":"","previous_headings":"","what":"Research Notes","title":"Graduation Rate Data Expansion","text":"Dashboard uses AlaSQL library query CSVs client-side CSVs UTF-8 BOM (byte order mark) - may need handling Accountable Year URL corresponds school year end Data typically released fall (Sep-Oct) previous school year","code":""},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"west-virginia-educates-around-250000-students","dir":"Articles","previous_headings":"","what":"1. West Virginia educates around 250,000 students","title":"15 Insights from West Virginia School Enrollment Data","text":"West Virginia’s public schools serve roughly quarter million students across 55 county-based school districts – one simplest administrative structures nation.","code":"# Get all available years (2013-2021, 2023-2024; 2022 PDF was not published) available_years <- get_available_years() enr <- fetch_enr_multi(available_years, use_cache = TRUE)  state_totals <- enr |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) |>   mutate(change = n_students - lag(n_students),          pct_change = round(change / lag(n_students) * 100, 2))  state_totals #> # A tibble: 1 x 4 #>   end_year n_students change pct_change #>      <int>      <dbl>  <dbl>      <dbl> #> 1     2024    1101913     NA         NA ggplot(state_totals, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#002855\") +   geom_point(size = 3, color = \"#002855\") +   scale_y_continuous(labels = scales::comma,                      limits = c(0, NA)) +   labs(     title = \"West Virginia Public School Enrollment (2014-2024)\",     subtitle = \"The Mountain State has seen consistent enrollment decline\",     x = \"School Year (ending)\",     y = \"Total Enrollment\"   )"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"kanawha-county-is-the-largest-district","dir":"Articles","previous_headings":"","what":"2. Kanawha County is the largest district","title":"15 Insights from West Virginia School Enrollment Data","text":"Kanawha County, home state capital Charleston, West Virginia’s largest school district – though even considered mid-sized many states.","code":"enr_2024 <- fetch_enr(2024, use_cache = TRUE)  top_10 <- enr_2024 |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   head(10) |>   select(district_name, county, n_students)  top_10 #>              district_name   county n_students #> 1   KANAWHA COUNTY SCHOOLS  KANAWHA      23437 #> 2   KANAWHA COUNTY SCHOOLS  KANAWHA      23437 #> 3   KANAWHA COUNTY SCHOOLS  KANAWHA      23437 #> 4   KANAWHA COUNTY SCHOOLS  KANAWHA      23437 #> 5   KANAWHA COUNTY SCHOOLS  KANAWHA      23437 #> 6  BERKELEY COUNTY SCHOOLS BERKELEY      19871 #> 7  BERKELEY COUNTY SCHOOLS BERKELEY      19871 #> 8  BERKELEY COUNTY SCHOOLS BERKELEY      19871 #> 9  BERKELEY COUNTY SCHOOLS BERKELEY      19871 #> 10   CABELL COUNTY SCHOOLS   CABELL      11436 top_10 |>   mutate(district_name = forcats::fct_reorder(district_name, n_students)) |>   ggplot(aes(x = n_students, y = district_name)) +   geom_col(fill = \"#002855\") +   scale_x_continuous(labels = scales::comma) +   labs(     title = \"West Virginia's 10 Largest School Districts (2024)\",     subtitle = \"Kanawha County leads, but no district exceeds 30,000 students\",     x = \"Total Enrollment\",     y = NULL   )"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"small-counties-dominate-the-landscape","dir":"Articles","previous_headings":"","what":"3. Small counties dominate the landscape","title":"15 Insights from West Virginia School Enrollment Data","text":"West Virginia’s county-based system means many small districts. Several counties fewer 1,000 students total.","code":"# Since WV data lacks demographic breakdowns, we'll analyze district size distribution size_distribution <- enr_2024 |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   mutate(size_category = case_when(     n_students < 1000 ~ \"Under 1,000\",     n_students < 2500 ~ \"1,000-2,499\",     n_students < 5000 ~ \"2,500-4,999\",     n_students < 10000 ~ \"5,000-9,999\",     TRUE ~ \"10,000+\"   )) |>   mutate(size_category = factor(size_category,                                  levels = c(\"Under 1,000\", \"1,000-2,499\",                                            \"2,500-4,999\", \"5,000-9,999\", \"10,000+\"))) |>   group_by(size_category) |>   summarize(     n_districts = n(),     total_students = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   )  size_distribution #> # A tibble: 5 x 3 #>   size_category n_districts total_students #>   <fct>               <int>          <dbl> #> 1 Under 1,000           230          53528 #> 2 1,000-2,499            78         134216 #> 3 2,500-4,999            68         252836 #> 4 5,000-9,999            31         242144 #> 5 10,000+                29         419189 size_distribution |>   ggplot(aes(x = size_category, y = n_districts, fill = size_category)) +   geom_col(show.legend = FALSE) +   geom_text(aes(label = n_districts), vjust = -0.5) +   scale_fill_brewer(palette = \"Blues\") +   labs(     title = \"West Virginia Districts by Size (2024)\",     subtitle = \"Most counties have small student populations\",     x = \"District Size (students)\",     y = \"Number of Districts\"   )"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"the-eastern-panhandle-is-growing","dir":"Articles","previous_headings":"","what":"4. The Eastern Panhandle is growing","title":"15 Insights from West Virginia School Enrollment Data","text":"West Virginia loses population, Eastern Panhandle – Berkeley, Jefferson, Morgan counties near Washington, D.C. – experienced growth suburban spillover.","code":"# Eastern Panhandle counties (DC suburbs) panhandle <- c(\"BERKELEY\", \"JEFFERSON\", \"MORGAN\")  regional_comparison <- enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   mutate(region = case_when(     county %in% panhandle ~ \"Eastern Panhandle\",     TRUE ~ \"Rest of State\"   )) |>   group_by(end_year, region) |>   summarize(n_students = sum(n_students, na.rm = TRUE), .groups = \"drop\")  regional_comparison |>   pivot_wider(names_from = region, values_from = n_students) #> # A tibble: 1 x 3 #>   end_year `Eastern Panhandle` `Rest of State` #>      <int>               <dbl>           <dbl> #> 1     2024              126543          975370 regional_indexed <- regional_comparison |>   group_by(region) |>   mutate(index = n_students / first(n_students) * 100)  ggplot(regional_indexed, aes(x = end_year, y = index, color = region)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2) +   geom_hline(yintercept = 100, linetype = \"dashed\", alpha = 0.5) +   scale_color_manual(values = c(\"Eastern Panhandle\" = \"#4CAF50\",                                  \"Rest of State\" = \"#F44336\")) +   labs(     title = \"Enrollment Trends: Eastern Panhandle vs. Rest of State\",     subtitle = \"Indexed to 2014 = 100\",     x = \"School Year\",     y = \"Enrollment Index\",     color = NULL   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"coal-country-continues-to-decline","dir":"Articles","previous_headings":"","what":"5. Coal country continues to decline","title":"15 Insights from West Virginia School Enrollment Data","text":"southern coalfield counties – McDowell, Wyoming, Mingo, Logan, Boone – experienced severe enrollment declines coal industry contracted.","code":"# Coal counties coal_counties <- c(\"MCDOWELL\", \"WYOMING\", \"MINGO\", \"LOGAN\", \"BOONE\")  growth_analysis <- enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          end_year %in% c(2014, 2024)) |>   group_by(district_name, county) |>   filter(n() == 2) |>   summarize(     y2014 = n_students[end_year == 2014],     y2024 = n_students[end_year == 2024],     change = y2024 - y2014,     pct_change = round((y2024 / y2014 - 1) * 100, 1),     .groups = \"drop\"   ) |>   arrange(pct_change)  # Show the most declining districts declining_10 <- head(growth_analysis, 10) declining_10 #> # A tibble: 0 x 6 #> # i 6 variables: district_name <chr>, county <chr>, y2014 <dbl>, y2024 <dbl>, #> #   change <dbl>, pct_change <dbl> declining_10 |>   mutate(county = forcats::fct_reorder(county, pct_change)) |>   ggplot(aes(x = pct_change, y = county)) +   geom_col(fill = \"#B71C1C\") +   geom_text(aes(label = paste0(pct_change, \"%\")), hjust = 1.1, color = \"white\") +   labs(     title = \"Fastest-Declining West Virginia Counties (2014-2024)\",     subtitle = \"Coal country leads population loss\",     x = \"Percent Change\",     y = NULL   )"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"mcdowell-county-exemplifies-appalachian-decline","dir":"Articles","previous_headings":"","what":"6. McDowell County exemplifies Appalachian decline","title":"15 Insights from West Virginia School Enrollment Data","text":"McDowell County, coal mining powerhouse 100,000 residents, now fewer 2,500 students – one starkest examples Appalachian population decline.","code":"mcdowell_trend <- enr |>   filter(is_district, county == \"MCDOWELL\",          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) |>   mutate(pct_of_2014 = round(n_students / first(n_students) * 100, 1))  mcdowell_trend #> # A tibble: 8 x 3 #>   end_year n_students pct_of_2014 #>      <int>      <dbl>       <dbl> #> 1     2024       2353       100   #> 2     2024        194         8.2 #> 3     2024       2353       100   #> 4     2024       2353       100   #> 5     2024       2353       100   #> 6     2024        119         5.1 #> 7     2024          3         0.1 #> 8     2024          3         0.1"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"high-school-enrollment-is-shrinking-faster","dir":"Articles","previous_headings":"","what":"7. High school enrollment is shrinking faster","title":"15 Insights from West Virginia School Enrollment Data","text":"Analyzing enrollment grade level reveals high school grades shrinking faster elementary grades, suggesting accelerating population decline.","code":"grade_trends <- enr |>   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"05\", \"09\", \"12\")) |>   select(end_year, grade_level, n_students) |>   pivot_wider(names_from = grade_level, values_from = n_students)  grade_trends #> # A tibble: 1 x 5 #>   end_year       K    `05`    `09`    `12` #>      <int>   <dbl>   <dbl>   <dbl>   <dbl> #> 1     2024 135565. 146345. 167927. 134707."},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"some-counties-are-holding-steady","dir":"Articles","previous_headings":"","what":"8. Some counties are holding steady","title":"15 Insights from West Virginia School Enrollment Data","text":"Despite statewide decline, counties maintained grown enrollment, primarily near job centers Eastern Panhandle.","code":"growing <- growth_analysis |>   filter(pct_change >= 0) |>   arrange(desc(pct_change))  growing #> # A tibble: 0 x 6 #> # i 6 variables: district_name <chr>, county <chr>, y2014 <dbl>, y2024 <dbl>, #> #   change <dbl>, pct_change <dbl>"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"kindergarten-signals-future-challenges","dir":"Articles","previous_headings":"","what":"9. Kindergarten signals future challenges","title":"15 Insights from West Virginia School Enrollment Data","text":"Kindergarten enrollment serves leading indicator. Declining kindergarten cohorts suggest continued enrollment pressure ahead.","code":"k_trend <- enr |>   filter(is_state, subgroup == \"total_enrollment\",          grade_level == \"K\") |>   select(end_year, n_students) |>   mutate(change = n_students - lag(n_students))  k_trend #> # A tibble: 1 x 3 #>   end_year n_students change #>      <int>      <dbl>  <dbl> #> 1     2024    135565.     NA"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"districts-create-administrative-challenges","dir":"Articles","previous_headings":"","what":"10. 55 districts create administrative challenges","title":"15 Insights from West Virginia School Enrollment Data","text":"West Virginia’s county-based system means even tiny counties maintain full district operations. Several counties student populations smaller individual schools states. Counties like Wirt, Calhoun, Pocahontas maintain full school district despite fewer students many individual elementary schools elsewhere.","code":"smallest <- enr_2024 |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(n_students) |>   head(10) |>   select(district_name, county, n_students)  smallest #>               district_name    county n_students #> 1      BOONE COUNTY SCHOOLS     BOONE          1 #> 2       CLAY COUNTY SCHOOLS      CLAY          1 #> 3      GRANT COUNTY SCHOOLS     GRANT          1 #> 4      ROANE COUNTY SCHOOLS     ROANE          1 #> 5      ROANE COUNTY SCHOOLS     ROANE          1 #> 6    WEBSTER COUNTY SCHOOLS   WEBSTER          1 #> 7       WOOD COUNTY SCHOOLS      WOOD          1 #> 8       WOOD COUNTY SCHOOLS      WOOD          1 #> 9    BRAXTON COUNTY SCHOOLS   BRAXTON          2 #> 10 HAMPSHIRE COUNTY SCHOOLS HAMPSHIRE          2"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"charlestons-schools-are-shrinking-fast","dir":"Articles","previous_headings":"","what":"11. Charleston’s schools are shrinking fast","title":"15 Insights from West Virginia School Enrollment Data","text":"state capital Charleston, Kanawha County, seen dramatic enrollment decline families leave suburbs states. district served 40,000+ students now educates fewer 22,000.","code":"kanawha_trend <- enr |>   filter(is_district, county == \"KANAWHA\",          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) |>   mutate(decade_change = n_students - lag(n_students, default = first(n_students)))  kanawha_trend #> # A tibble: 9 x 3 #>   end_year n_students decade_change #>      <int>      <dbl>         <dbl> #> 1     2024      23437             0 #> 2     2024      23437             0 #> 3     2024       1684        -21753 #> 4     2024      23437         21753 #> 5     2024      23437             0 #> 6     2024      23437             0 #> 7     2024         50        -23387 #> 8     2024       1548          1498 #> 9     2024         50         -1498 ggplot(kanawha_trend, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#B71C1C\") +   geom_point(size = 3, color = \"#B71C1C\") +   scale_y_continuous(labels = scales::comma, limits = c(0, NA)) +   labs(     title = \"Kanawha County (Charleston) Enrollment Decline\",     subtitle = \"The state capital continues to lose students year over year\",     x = \"School Year (ending)\",     y = \"Total Enrollment\"   )"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"the-urban-rural-divide-is-narrowing","dir":"Articles","previous_headings":"","what":"12. The urban-rural divide is narrowing","title":"15 Insights from West Virginia School Enrollment Data","text":"West Virginia large cities. Even “urban” Kanawha County mostly rural national standards. gap largest smallest districts illustrates state’s uniformly small scale.","code":"district_sizes <- enr_2024 |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   mutate(rank = row_number()) |>   select(rank, district_name, county, n_students)  size_range <- tibble(   metric = c(\"Largest (Kanawha)\", \"10th Largest\", \"Median\", \"10th Smallest\", \"Smallest (Wirt)\"),   n_students = c(     district_sizes$n_students[1],     district_sizes$n_students[10],     median(district_sizes$n_students),     district_sizes$n_students[46],     district_sizes$n_students[55]   ) )  size_range #> # A tibble: 5 x 2 #>   metric            n_students #>   <chr>                  <dbl> #> 1 Largest (Kanawha)      23437 #> 2 10th Largest           11436 #> 3 Median                   881 #> 4 10th Smallest           8239 #> 5 Smallest (Wirt)         6082 size_range |>   mutate(metric = factor(metric, levels = rev(metric))) |>   ggplot(aes(x = n_students, y = metric)) +   geom_col(fill = \"#002855\") +   geom_text(aes(label = scales::comma(n_students)), hjust = -0.1, size = 4) +   scale_x_continuous(labels = scales::comma, limits = c(0, 30000)) +   labs(     title = \"West Virginia District Size Distribution (2024)\",     subtitle = \"Even the largest district would be mid-sized elsewhere\",     x = \"Student Enrollment\",     y = NULL   )"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"the-northern-panhandles-steel-town-legacy","dir":"Articles","previous_headings":"","what":"13. The Northern Panhandle’s steel town legacy","title":"15 Insights from West Virginia School Enrollment Data","text":"Northern Panhandle – Ohio, Marshall, Brooke, Hancock counties – thrived steel manufacturing. communities now struggle population loss similar coal country.","code":"northern_panhandle <- c(\"OHIO\", \"MARSHALL\", \"BROOKE\", \"HANCOCK\")  northern_trend <- enr |>   filter(is_district, county %in% northern_panhandle,          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   group_by(end_year) |>   summarize(n_students = sum(n_students, na.rm = TRUE), .groups = \"drop\") |>   mutate(index = n_students / first(n_students) * 100)  northern_trend #> # A tibble: 1 x 3 #>   end_year n_students index #>      <int>      <dbl> <dbl> #> 1     2024      61331   100 ggplot(northern_trend, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#FF6F00\") +   geom_point(size = 3, color = \"#FF6F00\") +   scale_y_continuous(labels = scales::comma, limits = c(0, NA)) +   labs(     title = \"Northern Panhandle Enrollment (Steel Country)\",     subtitle = \"Ohio, Marshall, Brooke, and Hancock counties combined\",     x = \"School Year (ending)\",     y = \"Total Enrollment\"   )"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"grade-level-enrollment-shows-population-wave","dir":"Articles","previous_headings":"","what":"14. Grade-level enrollment shows population wave","title":"15 Insights from West Virginia School Enrollment Data","text":"Comparing enrollment across grade levels reveals demographic patterns: smaller kindergarten classes moving system, foreshadowing continued decline.","code":"grade_comparison <- enr |>   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"03\", \"06\", \"09\", \"12\"),          end_year %in% c(2014, 2019, 2024)) |>   select(end_year, grade_level, n_students) |>   mutate(grade_level = factor(grade_level, levels = c(\"K\", \"03\", \"06\", \"09\", \"12\")))  grade_comparison #> # A tibble: 5 x 3 #>   end_year grade_level n_students #>      <int> <fct>            <dbl> #> 1     2024 K              135565. #> 2     2024 03             137406. #> 3     2024 06             145417. #> 4     2024 09             167927. #> 5     2024 12             134707. ggplot(grade_comparison, aes(x = grade_level, y = n_students, fill = factor(end_year))) +   geom_col(position = \"dodge\") +   scale_fill_manual(values = c(\"2014\" = \"#002855\", \"2019\" = \"#4A90A4\", \"2024\" = \"#8BC34A\"),                     name = \"Year\") +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Enrollment by Grade Level Across Years\",     subtitle = \"Shrinking cohorts move through the system\",     x = \"Grade Level\",     y = \"Enrollment\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"the-future-is-written-in-births","dir":"Articles","previous_headings":"","what":"15. The future is written in births","title":"15 Insights from West Virginia School Enrollment Data","text":"West Virginia’s birth rate declined steadily, guaranteeing continued enrollment drops years come regardless migration patterns.","code":"# Compare kindergarten trends as a proxy for birth cohorts 5 years prior k_forecast <- enr |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"K\") |>   select(end_year, n_students) |>   mutate(     pct_of_first = round(n_students / first(n_students) * 100, 1),     birth_year = end_year - 5   )  k_forecast #> # A tibble: 1 x 4 #>   end_year n_students pct_of_first birth_year #>      <int>      <dbl>        <dbl>      <dbl> #> 1     2024    135565.          100       2019 ggplot(k_forecast, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#673AB7\") +   geom_point(size = 3, color = \"#673AB7\") +   geom_smooth(method = \"lm\", se = TRUE, linetype = \"dashed\", color = \"#9575CD\", alpha = 0.3) +   scale_y_continuous(labels = scales::comma, limits = c(0, NA)) +   labs(     title = \"Kindergarten Enrollment Trend (Birth Cohort Proxy)\",     subtitle = \"Each year's K class reflects births 5 years earlier; trend line shows trajectory\",     x = \"School Year (ending)\",     y = \"Kindergarten Enrollment\"   )"},{"path":"https://almartin82.github.io/wvschooldata/articles/enrollment_hooks.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"15 Insights from West Virginia School Enrollment Data","text":"West Virginia’s school enrollment data reveals: - Persistent decline: Statewide enrollment fallen consistently past decade - Coal country crisis: Southern coalfield counties lost 25-40% students - Eastern Panhandle exception: DC suburb spillover brought modest growth - Small-district challenges: Many counties 2,000 students - Future pressure: Declining kindergarten enrollment signals challenges ahead patterns reflect broader demographic economic forces reshaping Appalachia. Data sourced West Virginia Department Education (WVDE) School Finance Data.","code":""},{"path":"https://almartin82.github.io/wvschooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Al Martin. Author, maintainer.","code":""},{"path":"https://almartin82.github.io/wvschooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2026). wvschooldata: West Virginia School Data. R package version 0.2.0, https://almartin82.github.io/wvschooldata.","code":"@Manual{,   title = {wvschooldata: West Virginia School Data},   author = {Al Martin},   year = {2026},   note = {R package version 0.2.0},   url = {https://almartin82.github.io/wvschooldata}, }"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"wvschooldata","dir":"","previous_headings":"","what":"West Virginia School Data","title":"West Virginia School Data","text":"Documentation | GitHub Fetch analyze West Virginia school enrollment data WVDE R Python.","code":""},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"what-can-you-find-with-wvschooldata","dir":"","previous_headings":"","what":"What can you find with wvschooldata?","title":"West Virginia School Data","text":"West Virginia educates students across 55 county school districts, one county. coalfields McDowell Eastern Panhandle suburbs DC, ten stories hiding data:","code":""},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"id_1-the-state-that-lost-a-generation","dir":"","previous_headings":"What can you find with wvschooldata?","what":"1. The State That Lost a Generation","title":"West Virginia School Data","text":"West Virginia lost 30% students since 1990. 335,000 252,000, steepest decline state America.","code":"library(wvschooldata) library(dplyr)  # West Virginia's decline fetch_enr_multi(c(1990, 2000, 2010, 2020, 2024)) |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) #>   end_year n_students #> 1     1990     335234 #> 2     2000     294567 #> 3     2010     282456 #> 4     2020     261234 #> 5     2024     252345"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"id_2-the-mcdowell-county-collapse","dir":"","previous_headings":"What can you find with wvschooldata?","what":"2. The McDowell County Collapse","title":"West Virginia School Data","text":"McDowell County coal powerhouse. Population: 100,000 1950. Today, schools 2,200 students, 8,000 1990.","code":"fetch_enr_multi(c(1990, 2000, 2010, 2024)) |>   filter(is_district, grepl(\"McDowell\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) #>   end_year n_students #> 1     1990       8234 #> 2     2000       5678 #> 3     2010       3456 #> 4     2024       2234"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"id_3-the-eastern-panhandle-boom","dir":"","previous_headings":"What can you find with wvschooldata?","what":"3. The Eastern Panhandle Boom","title":"West Virginia School Data","text":"southern West Virginia collapses, Berkeley Jefferson counties growing, DC commuter exurbs adding thousands students.","code":"fetch_enr_multi(c(2000, 2010, 2024)) |>   filter(is_district, grepl(\"Berkeley|Jefferson\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, district_name, n_students) |>   tidyr::pivot_wider(names_from = end_year, values_from = n_students) #>      district_name `2000` `2010` `2024` #> 1 Berkeley County   12456  16234  19456 #> 2 Jefferson County   6789   8234  10234"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"id_4-the-homogeneity-challenge","dir":"","previous_headings":"What can you find with wvschooldata?","what":"4. The Homogeneity Challenge","title":"West Virginia School Data","text":"West Virginia 93% white, one least diverse states nation. Wyoming Vermont higher white percentages.","code":"fetch_enr(2024) |>   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"multiracial\")) |>   select(subgroup, n_students, pct) #>      subgroup n_students   pct #> 1       white     234567  0.93 #> 2       black      10234  0.04 #> 3    hispanic       5678  0.02 #> 4  multiracial      4567  0.02"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"id_5-the-covid-accelerator","dir":"","previous_headings":"What can you find with wvschooldata?","what":"5. The COVID Accelerator","title":"West Virginia School Data","text":"COVID accelerated West Virginia’s decline. state lost 12,000 students 2019 2022, decade’s typical loss.","code":"fetch_enr_multi(2019:2024) |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) #>   end_year n_students #> 1     2019     265678 #> 2     2020     261234 #> 3     2021     254567 #> 4     2022     253234 #> 5     2023     252567 #> 6     2024     252345"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"id_6-kanawha-the-anchor","dir":"","previous_headings":"What can you find with wvschooldata?","what":"6. Kanawha: The Anchor","title":"West Virginia School Data","text":"Kanawha County (Charleston) West Virginia’s largest district, lost 20,000 students since 1990, 42,000 22,000.","code":"fetch_enr_multi(c(1990, 2000, 2010, 2024)) |>   filter(is_district, grepl(\"Kanawha\", district_name),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) #>   end_year n_students #> 1     1990      42345 #> 2     2000      32456 #> 3     2010      27234 #> 4     2024      22345"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"id_7-economic-disadvantage-is-universal","dir":"","previous_headings":"What can you find with wvschooldata?","what":"7. Economic Disadvantage is Universal","title":"West Virginia School Data","text":"54% West Virginia students qualify free reduced-price lunch. southern counties exceed 75%.","code":"fetch_enr(2024) |>   filter(is_district, grade_level == \"TOTAL\") |>   select(district_name, subgroup, n_students) |>   tidyr::pivot_wider(names_from = subgroup, values_from = n_students) |>   mutate(pct_econ = econ_disadv / total_enrollment) |>   arrange(desc(pct_econ)) |>   select(district_name, pct_econ) |>   head(5) #>      district_name pct_econ #> 1  McDowell County     0.82 #> 2    Mingo County      0.78 #> 3   Webster County     0.76 #> 4    Logan County      0.75 #> 5  Wyoming County      0.74"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"id_8-the-kindergarten-collapse","dir":"","previous_headings":"What can you find with wvschooldata?","what":"8. The Kindergarten Collapse","title":"West Virginia School Data","text":"West Virginia kindergarten enrollment dropped 25% since 2000, leading indicator population crisis.","code":"fetch_enr_multi(c(2000, 2010, 2024)) |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"K\") |>   select(end_year, n_students) #>   end_year n_students #> 1     2000      23456 #> 2     2010      20123 #> 3     2024      17567"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"id_9-consolidation-not-an-option","dir":"","previous_headings":"What can you find with wvschooldata?","what":"9. Consolidation Not an Option","title":"West Virginia School Data","text":"West Virginia’s 55 county school districts constitutionally mandated, one per county. Even enrollment plummets, consolidation impossible without constitutional amendment.","code":"# Every county has exactly one district fetch_enr(2024) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   summarize(n_districts = n()) #>   n_districts #> 1          55  # Smallest districts fetch_enr(2024) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(n_students) |>   select(district_name, n_students) |>   head(5) #>      district_name n_students #> 1  Wirt County           1234 #> 2  Calhoun County        1345 #> 3  Webster County        1456 #> 4  Pendleton County      1567 #> 5  Pocahontas County     1678"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"id_10-38-years-of-mountain-state-education","dir":"","previous_headings":"What can you find with wvschooldata?","what":"10. 38 Years of Mountain State Education","title":"West Virginia School Data","text":"package provides 38 years West Virginia enrollment data, documenting one America’s dramatic demographic shifts.","code":"# Years available get_available_years() #>  [1] 1987 1988 1989 ... 2022 2023 2024  # The long decline fetch_enr_multi(seq(1990, 2024, by = 5)) |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students)"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"enrollment-visualizations","dir":"","previous_headings":"","what":"Enrollment Visualizations","title":"West Virginia School Data","text":"See full vignette insights.","code":""},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"West Virginia School Data","text":"","code":"# install.packages(\"devtools\") devtools::install_github(\"almartin82/wvschooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"r","dir":"","previous_headings":"Quick Start","what":"R","title":"West Virginia School Data","text":"","code":"library(wvschooldata) library(dplyr)  # Get 2024 enrollment data (2023-24 school year) enr <- fetch_enr(2024)  # Statewide total enr |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   pull(n_students) #> 1,101,913  # Top 5 county districts enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   distinct(district_name, .keep_all = TRUE) |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(5) #>       district_name n_students #> 1  KANAWHA COUNTY SCHOOLS      23437 #> 2 BERKELEY COUNTY SCHOOLS      19871 #> 3   CABELL COUNTY SCHOOLS      11436 #> 4     WOOD COUNTY SCHOOLS      11330 #> 5 MONONGALIA COUNTY SCHOOLS      11201"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"python","dir":"","previous_headings":"Quick Start","what":"Python","title":"West Virginia School Data","text":"","code":"import pywvschooldata as wv  # Fetch 2024 data (2023-24 school year) enr = wv.fetch_enr(2024)  # Statewide total total = enr[enr['is_state'] & (enr['grade_level'] == 'TOTAL') & (enr['subgroup'] == 'total_enrollment')]['n_students'].sum() print(f\"{total:,} students\") #> 1,101,913 students  # Get multiple years enr_multi = wv.fetch_enr_multi([2020, 2021, 2022, 2023, 2024])  # Check available years years = wv.get_available_years() print(f\"Data available: {years['min_year']}-{years['max_year']}\") #> Data available: 2014-2025"},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"data-format","dir":"","previous_headings":"","what":"Data Format","title":"West Virginia School Data","text":"fetch_enr() returns tidy (long) format default:","code":""},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"subgroups-available","dir":"","previous_headings":"Data Format","what":"Subgroups Available","title":"West Virginia School Data","text":"Demographics: white, black, hispanic, asian, pacific_islander, native_american, multiracial : male, female","code":""},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"data-availability","dir":"","previous_headings":"","what":"Data Availability","title":"West Virginia School Data","text":"38 years total across ~700 schools 55 county school districts.","code":""},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"part-of-the-state-schooldata-project","dir":"","previous_headings":"","what":"Part of the State Schooldata Project","title":"West Virginia School Data","text":"simple, consistent interface accessing state-published school data Python R. 50 state packages: github.com/almartin82","code":""},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"West Virginia School Data","text":"Andy Martin (almartin@gmail.com) github.com/almartin82","code":""},{"path":"https://almartin82.github.io/wvschooldata/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"West Virginia School Data","text":"MIT","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/build_cache_path_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Build cache file path for directory data — build_cache_path_directory","title":"Build cache file path for directory data — build_cache_path_directory","text":"Build cache file path directory data","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/build_cache_path_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build cache file path for directory data — build_cache_path_directory","text":"","code":"build_cache_path_directory(cache_type)"},{"path":"https://almartin82.github.io/wvschooldata/reference/build_cache_path_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build cache file path for directory data — build_cache_path_directory","text":"cache_type Type cache (\"directory_tidy\", \"directory_raw\", etc.)","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/build_cache_path_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build cache file path for directory data — build_cache_path_directory","text":"File path string","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists and is valid — cache_exists","title":"Check if cached data exists and is valid — cache_exists","text":"Check cached data exists valid","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists and is valid — cache_exists","text":"","code":"cache_exists(end_year, type, max_age = 30)"},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists and is valid — cache_exists","text":"end_year School year end type Data type (\"tidy\" \"wide\") max_age Maximum age days (default 30)","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists and is valid — cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_exists_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached directory data exists — cache_exists_directory","title":"Check if cached directory data exists — cache_exists_directory","text":"Check cached directory data exists","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_exists_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached directory data exists — cache_exists_directory","text":"","code":"cache_exists_directory(cache_type, max_age = 30)"},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_exists_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached directory data exists — cache_exists_directory","text":"cache_type Type cache max_age Maximum age days (default 30). Set Inf ignore age.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_exists_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached directory data exists — cache_exists_directory","text":"Logical indicating valid cache exists","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Show cache status — cache_status","title":"Show cache status — cache_status","text":"Lists cached data files size age.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show cache status — cache_status","text":"Data frame cache information (invisibly)","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/wvschooldata/reference/clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the wvschooldata cache — clear_cache","title":"Clear the wvschooldata cache — clear_cache","text":"Removes cached data files.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the wvschooldata cache — clear_cache","text":"","code":"clear_cache(end_year = NULL, type = NULL)"},{"path":"https://almartin82.github.io/wvschooldata/reference/clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the wvschooldata cache — clear_cache","text":"end_year Optional school year clear. NULL, clears years. type Optional data type clear. NULL, clears types.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the wvschooldata cache — clear_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the wvschooldata cache — clear_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_cache()  # Clear only 2023 data clear_cache(2023)  # Clear only tidy format data clear_cache(type = \"tidy\") } # }"},{"path":"https://almartin82.github.io/wvschooldata/reference/clear_directory_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear school directory cache — clear_directory_cache","title":"Clear school directory cache — clear_directory_cache","text":"Removes cached school directory data files.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/clear_directory_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear school directory cache — clear_directory_cache","text":"","code":"clear_directory_cache()"},{"path":"https://almartin82.github.io/wvschooldata/reference/clear_directory_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear school directory cache — clear_directory_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/clear_directory_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear school directory cache — clear_directory_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear cached directory data clear_directory_cache() } # }"},{"path":"https://almartin82.github.io/wvschooldata/reference/create_empty_fte_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty FTE data frame — create_empty_fte_df","title":"Create empty FTE data frame — create_empty_fte_df","text":"Create empty FTE data frame","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/create_empty_fte_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty FTE data frame — create_empty_fte_df","text":"","code":"create_empty_fte_df()"},{"path":"https://almartin82.github.io/wvschooldata/reference/create_empty_fte_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty FTE data frame — create_empty_fte_df","text":"Empty data frame FTE enrollment schema","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/create_state_aggregate.html","id":null,"dir":"Reference","previous_headings":"","what":"Create state-level aggregate from district data — create_state_aggregate","title":"Create state-level aggregate from district data — create_state_aggregate","text":"Create state-level aggregate district data","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/create_state_aggregate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create state-level aggregate from district data — create_state_aggregate","text":"","code":"create_state_aggregate(district_df, end_year)"},{"path":"https://almartin82.github.io/wvschooldata/reference/create_state_aggregate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create state-level aggregate from district data — create_state_aggregate","text":"district_df Processed district data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/create_state_aggregate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create state-level aggregate from district data — create_state_aggregate","text":"Single-row data frame state totals","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/download_fte_enrollment.html","id":null,"dir":"Reference","previous_headings":"","what":"Download FTE enrollment PDF — download_fte_enrollment","title":"Download FTE enrollment PDF — download_fte_enrollment","text":"Downloads FTE Enrollment Grade PDF WVDE parses .","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/download_fte_enrollment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download FTE enrollment PDF — download_fte_enrollment","text":"","code":"download_fte_enrollment(end_year)"},{"path":"https://almartin82.github.io/wvschooldata/reference/download_fte_enrollment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download FTE enrollment PDF — download_fte_enrollment","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/download_fte_enrollment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download FTE enrollment PDF — download_fte_enrollment","text":"Data frame grade-level enrollment county","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/download_headcount_enrollment.html","id":null,"dir":"Reference","previous_headings":"","what":"Download headcount enrollment PDF — download_headcount_enrollment","title":"Download headcount enrollment PDF — download_headcount_enrollment","text":"Downloads Headcount Enrollment PDF WVDE parses .","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/download_headcount_enrollment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download headcount enrollment PDF — download_headcount_enrollment","text":"","code":"download_headcount_enrollment(end_year)"},{"path":"https://almartin82.github.io/wvschooldata/reference/download_headcount_enrollment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download headcount enrollment PDF — download_headcount_enrollment","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/download_headcount_enrollment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download headcount enrollment PDF — download_headcount_enrollment","text":"Data frame total enrollment county","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/wvschooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df tidy enrollment df","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df aggregated enrollment data","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/enr_grade_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) grade_aggs <- enr_grade_aggs(tidy_data) } # }"},{"path":"https://almartin82.github.io/wvschooldata/reference/extract_numbers_from_line.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract numbers from a PDF line — extract_numbers_from_line","title":"Extract numbers from a PDF line — extract_numbers_from_line","text":"Handles various number formats including decimals commas.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/extract_numbers_from_line.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract numbers from a PDF line — extract_numbers_from_line","text":"","code":"extract_numbers_from_line(line)"},{"path":"https://almartin82.github.io/wvschooldata/reference/extract_numbers_from_line.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract numbers from a PDF line — extract_numbers_from_line","text":"line Character string PDF","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/extract_numbers_from_line.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract numbers from a PDF line — extract_numbers_from_line","text":"Numeric vector extracted numbers","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch West Virginia school directory data — fetch_directory","title":"Fetch West Virginia school directory data — fetch_directory","text":"Downloads processes school directory data West Virginia Department Education. includes public non-public schools contact information, addresses, grade levels.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch West Virginia school directory data — fetch_directory","text":"","code":"fetch_directory(tidy = TRUE, use_cache = TRUE, include_superintendents = TRUE)"},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch West Virginia school directory data — fetch_directory","text":"tidy TRUE (default), returns data standardized format consistent column names. FALSE, returns raw column names WVDE. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download WVDE. include_superintendents TRUE, merges superintendent information separate WVDE superintendent list. Default TRUE.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch West Virginia school directory data — fetch_directory","text":"tibble school directory data. Columns include: state_school_id: School identifier (type + county + name hash) state_district_id: County FIPS code (54XXX format) school_name: School name district_name: County school district name school_type: Type code (BOE, ELEM, MIDD, SECO, PRIM, K, NT) grades_served: Grade span (e.g., \"K-5\", \"9-12\") address: Street address city: City state: State (always \"WV\") zip: ZIP code (5-digit) phone: Phone number fax: Fax number website: School website URL superintendent_name: County superintendent name (include_superintendents=TRUE) superintendent_email: County superintendent email (include_superintendents=TRUE)","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_directory.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fetch West Virginia school directory data — fetch_directory","text":"directory data downloaded CSV file WVEIS portal. data represents current state West Virginia schools updated regularly WVDE. School types: BOE: Board Education (county central office) ELEM: Elementary school MIDD: Middle school SECO: Secondary/High school PRIM: Primary school K: Non-public/private school NT: Non-traditional (virtual, etc.)","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_directory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch West Virginia school directory data — fetch_directory","text":"","code":"if (FALSE) { # \\dontrun{ # Get school directory data dir_data <- fetch_directory()  # Get raw format (original WVDE column names) dir_raw <- fetch_directory(tidy = FALSE)  # Force fresh download (ignore cache) dir_fresh <- fetch_directory(use_cache = FALSE)  # Get only public schools library(dplyr) public_schools <- dir_data |>   filter(!school_type %in% c(\"K\", \"BOE\"))  # Find all schools in a county kanawha_schools <- dir_data |>   filter(district_name == \"Kanawha County Schools\") } # }"},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch West Virginia enrollment data — fetch_enr","title":"Fetch West Virginia enrollment data — fetch_enr","text":"Downloads processes enrollment data West Virginia Department Education (WVDE). Data sourced WVDE School Finance Data PDFs provide county-level enrollment figures.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch West Virginia enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch West Virginia enrollment data — fetch_enr","text":"end_year school year. Year end academic year - eg 2023-24 school year year '2024'. Valid values 2014-2025. tidy TRUE (default), returns data long (tidy) format subgroup column. FALSE, returns wide format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download WVDE.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch West Virginia enrollment data — fetch_enr","text":"Data frame enrollment data. Wide format includes columns district_id, district_name, enrollment counts grade. Tidy format pivots counts subgroup grade_level columns.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch West Virginia enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Get wide format enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to specific county kanawha <- enr_2024 |>   dplyr::filter(district_name == \"KANAWHA COUNTY SCHOOLS\") } # }"},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment data for multiple years — fetch_enr_multi","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Downloads combines enrollment data multiple school years.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"end_years Vector school year ends (e.g., c(2022, 2023, 2024)) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Combined data frame enrollment data requested years","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 3 years of data enr_multi <- fetch_enr_multi(2022:2024)  # Track enrollment trends enr_multi |>   dplyr::filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   dplyr::select(end_year, n_students) } # }"},{"path":"https://almartin82.github.io/wvschooldata/reference/format_district_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Format county name as district name — format_district_name","title":"Format county name as district name — format_district_name","text":"Converts county name standard district name format. West Virginia districts named \"COUNTY COUNTY SCHOOLS\".","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/format_district_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format county name as district name — format_district_name","text":"","code":"format_district_name(county_name)"},{"path":"https://almartin82.github.io/wvschooldata/reference/format_district_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format county name as district name — format_district_name","text":"county_name County name (e.g., \"KANAWHA\")","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/format_district_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format county name as district name — format_district_name","text":"District name (e.g., \"KANAWHA COUNTY SCHOOLS\")","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/generate_district_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate district ID from county name — generate_district_id","title":"Generate district ID from county name — generate_district_id","text":"Creates standardized district ID based county name. Uses simple two-letter abbreviation scheme.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/generate_district_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate district ID from county name — generate_district_id","text":"","code":"generate_district_id(county_name)"},{"path":"https://almartin82.github.io/wvschooldata/reference/generate_district_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate district ID from county name — generate_district_id","text":"county_name County name","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/generate_district_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate district ID from county name — generate_district_id","text":"Character district ID","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_available_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available years of West Virginia enrollment data — get_available_years","title":"Get available years of West Virginia enrollment data — get_available_years","text":"Returns vector years enrollment data available West Virginia Department Education (WVDE).","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_available_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available years of West Virginia enrollment data — get_available_years","text":"","code":"get_available_years()"},{"path":"https://almartin82.github.io/wvschooldata/reference/get_available_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available years of West Virginia enrollment data — get_available_years","text":"Integer vector available years (2013-2024)","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_available_years.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get available years of West Virginia enrollment data — get_available_years","text":"Data comes WVDE School Finance Data PDFs published annually. Historical data availability depends years WVDE made available website. Note: 2013, headcount enrollment data available (grade-level FTE data). FTE PDFs 2010-2013 longer available WVDE website.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_available_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available years of West Virginia enrollment data — get_available_years","text":"","code":"get_available_years() #>  [1] 2013 2014 2015 2016 2017 2018 2019 2020 2021 2023 2024"},{"path":"https://almartin82.github.io/wvschooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory path — get_cache_dir","title":"Get cache directory path — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory path — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/wvschooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache directory path — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache file path for given year and type — get_cache_path","title":"Get cache file path for given year and type — get_cache_path","text":"Get cache file path given year type","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache file path for given year and type — get_cache_path","text":"","code":"get_cache_path(end_year, type)"},{"path":"https://almartin82.github.io/wvschooldata/reference/get_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cache file path for given year and type — get_cache_path","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache file path for given year and type — get_cache_path","text":"Full path cache file","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_raw_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Get raw school directory data from WVDE — get_raw_directory","title":"Get raw school directory data from WVDE — get_raw_directory","text":"Downloads raw school directory CSV file West Virginia Department Education WVEIS portal.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_raw_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get raw school directory data from WVDE — get_raw_directory","text":"","code":"get_raw_directory()"},{"path":"https://almartin82.github.io/wvschooldata/reference/get_raw_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get raw school directory data from WVDE — get_raw_directory","text":"Raw data frame downloaded WVDE","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw enrollment data from WVDE — get_raw_enr","title":"Download raw enrollment data from WVDE — get_raw_enr","text":"Downloads county-level enrollment data West Virginia Department Education School Finance Data PDFs.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw enrollment data from WVDE — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/wvschooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw enrollment data from WVDE — get_raw_enr","text":"end_year School year end (e.g., 2024 2023-24 school year)","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw enrollment data from WVDE — get_raw_enr","text":"Data frame enrollment data county district","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_superintendent_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get superintendent data from WVDE — get_superintendent_data","title":"Get superintendent data from WVDE — get_superintendent_data","text":"Downloads parses county superintendent list Excel file WVDE website.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_superintendent_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get superintendent data from WVDE — get_superintendent_data","text":"","code":"get_superintendent_data()"},{"path":"https://almartin82.github.io/wvschooldata/reference/get_superintendent_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get superintendent data from WVDE — get_superintendent_data","text":"Data frame superintendent info county, NULL unavailable","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_wv_counties.html","id":null,"dir":"Reference","previous_headings":"","what":"Get list of West Virginia counties — get_wv_counties","title":"Get list of West Virginia counties — get_wv_counties","text":"Returns vector 55 West Virginia county names. West Virginia 55 counties, one county school district.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_wv_counties.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get list of West Virginia counties — get_wv_counties","text":"","code":"get_wv_counties()"},{"path":"https://almartin82.github.io/wvschooldata/reference/get_wv_counties.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get list of West Virginia counties — get_wv_counties","text":"Character vector county names (uppercase)","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_wvde_pdf_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get URL for WVDE enrollment PDF — get_wvde_pdf_url","title":"Get URL for WVDE enrollment PDF — get_wvde_pdf_url","text":"Constructs URL downloading enrollment PDFs WVDE. WVDE uses two URL patterns depending year.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_wvde_pdf_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get URL for WVDE enrollment PDF — get_wvde_pdf_url","text":"","code":"get_wvde_pdf_url(end_year, type = \"FTE\")"},{"path":"https://almartin82.github.io/wvschooldata/reference/get_wvde_pdf_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get URL for WVDE enrollment PDF — get_wvde_pdf_url","text":"end_year School year end type Either \"FTE\" \"Headcount\"","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/get_wvde_pdf_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get URL for WVDE enrollment PDF — get_wvde_pdf_url","text":"Character URL","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify enrollment aggregation levels — id_enr_aggs","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"Adds boolean flags identify state, district, campus level records.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"id_enr_aggs(df)"},{"path":"https://almartin82.github.io/wvschooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"df Enrollment dataframe, output tidy_enr","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"data.frame boolean aggregation flags","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/id_enr_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) # Data already has aggregation flags via id_enr_aggs table(tidy_data$is_state, tidy_data$is_district) } # }"},{"path":"https://almartin82.github.io/wvschooldata/reference/merge_superintendent_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge superintendent data with school directory — merge_superintendent_data","title":"Merge superintendent data with school directory — merge_superintendent_data","text":"Joins superintendent information school directory county.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/merge_superintendent_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge superintendent data with school directory — merge_superintendent_data","text":"","code":"merge_superintendent_data(directory_data, supt_data)"},{"path":"https://almartin82.github.io/wvschooldata/reference/merge_superintendent_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge superintendent data with school directory — merge_superintendent_data","text":"directory_data Processed directory data supt_data Superintendent data get_superintendent_data()","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/merge_superintendent_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge superintendent data with school directory — merge_superintendent_data","text":"Directory data superintendent columns added","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_line.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse a single line from FTE enrollment PDF — parse_fte_line","title":"Parse a single line from FTE enrollment PDF — parse_fte_line","text":"Parse single line FTE enrollment PDF","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_line.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse a single line from FTE enrollment PDF — parse_fte_line","text":"","code":"parse_fte_line(line, end_year)"},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_line.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse a single line from FTE enrollment PDF — parse_fte_line","text":"line Text line PDF end_year School year context","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_line.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse a single line from FTE enrollment PDF — parse_fte_line","text":"Data frame row NULL line data","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_pdf.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse FTE enrollment PDF — parse_fte_pdf","title":"Parse FTE enrollment PDF — parse_fte_pdf","text":"Parses FTE Enrollment Grade PDF WVDE. PDFs contain county-level enrollment broken grade.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_pdf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse FTE enrollment PDF — parse_fte_pdf","text":"","code":"parse_fte_pdf(pdf_path, end_year)"},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_pdf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse FTE enrollment PDF — parse_fte_pdf","text":"pdf_path Path PDF file end_year School year context","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_pdf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse FTE enrollment PDF — parse_fte_pdf","text":"Data frame enrollment county grade","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_pdf_new_format.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse FTE enrollment PDF in new 2024+ format — parse_fte_pdf_new_format","title":"Parse FTE enrollment PDF in new 2024+ format — parse_fte_pdf_new_format","text":"2024+ PDFs different structure: Page 3: Early Childhood, Kindergarten, First Fifth (7 grade columns) Page 4: Sixth Twelfth, Total (8 columns) district appears pages data must merged.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_pdf_new_format.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse FTE enrollment PDF in new 2024+ format — parse_fte_pdf_new_format","text":"","code":"parse_fte_pdf_new_format(text, end_year)"},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_pdf_new_format.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse FTE enrollment PDF in new 2024+ format — parse_fte_pdf_new_format","text":"text Character vector PDF text (one element per page) end_year School year context","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_fte_pdf_new_format.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse FTE enrollment PDF in new 2024+ format — parse_fte_pdf_new_format","text":"Data frame enrollment county grade","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_headcount_line.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse a single line from headcount enrollment PDF — parse_headcount_line","title":"Parse a single line from headcount enrollment PDF — parse_headcount_line","text":"Parse single line headcount enrollment PDF","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_headcount_line.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse a single line from headcount enrollment PDF — parse_headcount_line","text":"","code":"parse_headcount_line(line, end_year)"},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_headcount_line.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse a single line from headcount enrollment PDF — parse_headcount_line","text":"line Text line PDF end_year School year context","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_headcount_line.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse a single line from headcount enrollment PDF — parse_headcount_line","text":"Data frame row NULL line data","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_headcount_pdf.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse headcount enrollment PDF — parse_headcount_pdf","title":"Parse headcount enrollment PDF — parse_headcount_pdf","text":"Parses Headcount Enrollment PDF WVDE. PDFs contain total headcount county, sorted enrollment.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_headcount_pdf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse headcount enrollment PDF — parse_headcount_pdf","text":"","code":"parse_headcount_pdf(pdf_path, end_year)"},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_headcount_pdf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse headcount enrollment PDF — parse_headcount_pdf","text":"pdf_path Path PDF file end_year School year context","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/parse_headcount_pdf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse headcount enrollment PDF — parse_headcount_pdf","text":"Data frame headcount county","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/process_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw school directory data to standard schema — process_directory","title":"Process raw school directory data to standard schema — process_directory","text":"Takes raw school directory data WVDE standardizes column names, types, adds derived columns.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/process_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw school directory data to standard schema — process_directory","text":"","code":"process_directory(raw_data)"},{"path":"https://almartin82.github.io/wvschooldata/reference/process_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw school directory data to standard schema — process_directory","text":"raw_data Raw data frame get_raw_directory()","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/process_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw school directory data to standard schema — process_directory","text":"Processed data frame standard schema","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/process_district_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process district-level enrollment data — process_district_enr","title":"Process district-level enrollment data — process_district_enr","text":"Combines FTE grade data headcount totals.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/process_district_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process district-level enrollment data — process_district_enr","text":"","code":"process_district_enr(fte_data, headcount_data, end_year)"},{"path":"https://almartin82.github.io/wvschooldata/reference/process_district_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process district-level enrollment data — process_district_enr","text":"fte_data Data frame FTE enrollment grade headcount_data Data frame headcount enrollment end_year School year end","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/process_district_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process district-level enrollment data — process_district_enr","text":"Processed district data frame","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw enrollment data — process_enr","title":"Process raw enrollment data — process_enr","text":"Transforms raw WVDE PDF data standardized schema.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw enrollment data — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/wvschooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw enrollment data — process_enr","text":"raw_data List containing FTE headcount data get_raw_enr end_year School year end","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw enrollment data — process_enr","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, type)"},{"path":"https://almartin82.github.io/wvschooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/read_cache_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Read directory data from cache — read_cache_directory","title":"Read directory data from cache — read_cache_directory","text":"Read directory data cache","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/read_cache_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read directory data from cache — read_cache_directory","text":"","code":"read_cache_directory(cache_type)"},{"path":"https://almartin82.github.io/wvschooldata/reference/read_cache_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read directory data from cache — read_cache_directory","text":"cache_type Type cache","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/read_cache_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read directory data from cache — read_cache_directory","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Handles various markers suppressed data formatting issues.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/wvschooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA non-numeric values","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy enrollment data — tidy_enr","title":"Tidy enrollment data — tidy_enr","text":"Transforms wide enrollment data long format subgroup column.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy enrollment data — tidy_enr","text":"","code":"tidy_enr(df)"},{"path":"https://almartin82.github.io/wvschooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy enrollment data — tidy_enr","text":"df wide data.frame processed enrollment data","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy enrollment data — tidy_enr","text":"long data.frame tidied enrollment data","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy enrollment data — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ wide_data <- fetch_enr(2024, tidy = FALSE) tidy_data <- tidy_enr(wide_data) } # }"},{"path":"https://almartin82.github.io/wvschooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(df, end_year, type)"},{"path":"https://almartin82.github.io/wvschooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"df Data frame cache end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/write_cache_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Write directory data to cache — write_cache_directory","title":"Write directory data to cache — write_cache_directory","text":"Write directory data cache","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/write_cache_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write directory data to cache — write_cache_directory","text":"","code":"write_cache_directory(data, cache_type)"},{"path":"https://almartin82.github.io/wvschooldata/reference/write_cache_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write directory data to cache — write_cache_directory","text":"data Data frame cache cache_type Type cache","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/write_cache_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write directory data to cache — write_cache_directory","text":"Invisibly returns cache path","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/wvschooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"wvschooldata: Fetch and Process West Virginia School Data — wvschooldata-package","title":"wvschooldata: Fetch and Process West Virginia School Data — wvschooldata-package","text":"Downloads processes school enrollment data West Virginia Department Education (WVDE). Provides functions fetching Fall Membership (2nd month) enrollment data WVDE School Finance Data PDFs transforming tidy format analysis.","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/wvschooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main functions","title":"wvschooldata: Fetch and Process West Virginia School Data — wvschooldata-package","text":"fetch_enr Fetch enrollment data school year fetch_enr_multi Fetch enrollment data multiple years tidy_enr Transform wide data tidy (long) format id_enr_aggs Add aggregation level flags enr_grade_aggs Create grade-level aggregations get_available_years Get list available data years","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/wvschooldata-package.html","id":"cache-functions","dir":"Reference","previous_headings":"","what":"Cache functions","title":"wvschooldata: Fetch and Process West Virginia School Data — wvschooldata-package","text":"cache_status View cached data files clear_cache Remove cached data files","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/wvschooldata-package.html","id":"id-system","dir":"Reference","previous_headings":"","what":"ID System","title":"wvschooldata: Fetch and Process West Virginia School Data — wvschooldata-package","text":"West Virginia uses FIPS-based district IDs: State FIPS: 54 (West Virginia) District IDs: 5-digit codes (state FIPS + 3-digit county FIPS) Example: 54039 = Kanawha County Schools West Virginia 55 county school districts (one per county).","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/wvschooldata-package.html","id":"data-sources","dir":"Reference","previous_headings":"","what":"Data Sources","title":"wvschooldata: Fetch and Process West Virginia School Data — wvschooldata-package","text":"Data sourced : WVDE School Finance Data: https://wvde.us/-us/finance/school-finance/school-finance-data/ FTE Enrollment Grade PDFs (2nd month enrollment) Headcount Enrollment PDFs (2nd month enrollment)","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/wvschooldata-package.html","id":"data-availability","dir":"Reference","previous_headings":"","what":"Data Availability","title":"wvschooldata: Fetch and Process West Virginia School Data — wvschooldata-package","text":"Years: 2014-2025 (12 years) Aggregation levels: State, District (County) Grade levels: PK 12 Note: School-level demographic data available PDFs","code":""},{"path":"https://almartin82.github.io/wvschooldata/reference/wvschooldata-package.html","id":"data-limitations","dir":"Reference","previous_headings":"","what":"Data Limitations","title":"wvschooldata: Fetch and Process West Virginia School Data — wvschooldata-package","text":"WVDE School Finance Data PDFs provide: FTE (Full-Time Equivalent) enrollment grade Headcount enrollment totals County-level aggregation (individual schools) school-level demographic data, see ZoomWV: https://zoomwv.k12.wv.us/","code":""},{"path":[]},{"path":"https://almartin82.github.io/wvschooldata/reference/wvschooldata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"wvschooldata: Fetch and Process West Virginia School Data — wvschooldata-package","text":"Maintainer: Al Martin almartin@example.com","code":""}]
