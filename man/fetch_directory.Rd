% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_directory.R
\name{fetch_directory}
\alias{fetch_directory}
\title{Fetch West Virginia school directory data}
\usage{
fetch_directory(tidy = TRUE, use_cache = TRUE, include_superintendents = TRUE)
}
\arguments{
\item{tidy}{If TRUE (default), returns data in a standardized format with
consistent column names. If FALSE, returns raw column names from WVDE.}

\item{use_cache}{If TRUE (default), uses locally cached data when available.
Set to FALSE to force re-download from WVDE.}

\item{include_superintendents}{If TRUE, merges superintendent information
from the separate WVDE superintendent list. Default is TRUE.}
}
\value{
A tibble with school directory data. Columns include:
\itemize{
\item \code{state_school_id}: School identifier (type + county + name hash)
\item \code{state_district_id}: County FIPS code (54XXX format)
\item \code{school_name}: School name
\item \code{district_name}: County school district name
\item \code{school_type}: Type code (BOE, ELEM, MIDD, SECO, PRIM, K, NT)
\item \code{grades_served}: Grade span (e.g., "K-5", "9-12")
\item \code{address}: Street address
\item \code{city}: City
\item \code{state}: State (always "WV")
\item \code{zip}: ZIP code (5-digit)
\item \code{phone}: Phone number
\item \code{fax}: Fax number
\item \code{website}: School website URL
\item \code{superintendent_name}: County superintendent name (if include_superintendents=TRUE)
\item \code{superintendent_email}: County superintendent email (if include_superintendents=TRUE)
}
}
\description{
Downloads and processes school directory data from the West Virginia
Department of Education. This includes all public and non-public schools
with contact information, addresses, and grade levels.
}
\details{
The directory data is downloaded as a CSV file from the WVEIS portal.
This data represents the current state of West Virginia schools and is
updated regularly by WVDE.

School types:
\itemize{
\item BOE: Board of Education (county central office)
\item ELEM: Elementary school
\item MIDD: Middle school
\item SECO: Secondary/High school
\item PRIM: Primary school
\item K: Non-public/private school
\item NT: Non-traditional (virtual, etc.)
}
}
\examples{
\dontrun{
# Get school directory data
dir_data <- fetch_directory()

# Get raw format (original WVDE column names)
dir_raw <- fetch_directory(tidy = FALSE)

# Force fresh download (ignore cache)
dir_fresh <- fetch_directory(use_cache = FALSE)

# Get only public schools
library(dplyr)
public_schools <- dir_data |>
  filter(!school_type \%in\% c("K", "BOE"))

# Find all schools in a county
kanawha_schools <- dir_data |>
  filter(district_name == "Kanawha County Schools")
}
}
